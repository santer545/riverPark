!function(t,i,o){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(i||o)}(function(a){"use strict";var h=function(p,w,$){var x={invalid:[],getCaret:function(){try{var t,i=0,o=p.get(0),e=document.selection,s=o.selectionStart;return e&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=e.createRange()).moveStart("character",-x.val().length),i=t.text.length):(s||"0"===s)&&(i=s),i}catch(t){}},setCaret:function(t){try{if(p.is(":focus")){var i,o=p.get(0);o.setSelectionRange?o.setSelectionRange(t,t):((i=o.createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select())}}catch(t){}},events:function(){p.on("keydown.mask",function(t){p.data("mask-keycode",t.keyCode||t.which),p.data("mask-previus-value",p.val()),p.data("mask-previus-caret-pos",x.getCaret()),x.maskDigitPosMapOld=x.maskDigitPosMap}).on(a.jMaskGlobals.useInput?"input.mask":"keyup.mask",x.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){p.keydown().keyup()},100)}).on("change.mask",function(){p.data("changed",!0)}).on("blur.mask",function(){r===x.val()||p.data("changed")||p.trigger("change"),p.data("changed",!1)}).on("blur.mask",function(){r=x.val()}).on("focus.mask",function(t){!0===$.selectOnFocus&&a(t.target).select()}).on("focusout.mask",function(){$.clearIfNotMatch&&!n.test(x.val())&&x.val("")})},getRegexMask:function(){for(var t,i,o,e,s,n,r=[],a=0;a<w.length;a++)(t=k.translation[w.charAt(a)])?(i=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),o=t.optional,(e=t.recursive)?(r.push(w.charAt(a)),s={digit:w.charAt(a),pattern:i}):r.push(o||e?i+"?":i)):r.push(w.charAt(a).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return n=r.join(""),s&&(n=n.replace(new RegExp("("+s.digit+"(.*"+s.digit+")?)"),"($1)?").replace(new RegExp(s.digit,"g"),s.pattern)),new RegExp(n)},destroyEvents:function(){p.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var i=p.is("input")?"val":"text";return 0<arguments.length?(p[i]()!==t&&p[i](t),p):p[i]()},calculateCaretPosition:function(){var t=p.data("mask-previus-value")||"",i=x.getMasked(),o=x.getCaret();if(t!==i){var e=p.data("mask-previus-caret-pos")||0,s=i.length,n=t.length,r=0,a=0,h=0,l=0,c=0;for(c=o;c<s&&x.maskDigitPosMap[c];c++)a++;for(c=o-1;0<=c&&x.maskDigitPosMap[c];c--)r++;for(c=o-1;0<=c;c--)x.maskDigitPosMap[c]&&h++;for(c=e-1;0<=c;c--)x.maskDigitPosMapOld[c]&&l++;if(n<o)o=10*s;else if(o<=e&&e!==n){if(!x.maskDigitPosMapOld[o]){var _=o;o-=l-h,o-=r,x.maskDigitPosMap[o]&&(o=_)}}else e<o&&(o+=h-l,o+=a)}return o},behaviour:function(t){t=t||window.event,x.invalid=[];var i=p.data("mask-keycode");if(-1===a.inArray(i,k.byPassKeys)){var o=x.getMasked(),e=x.getCaret();return setTimeout(function(){x.setCaret(x.calculateCaretPosition())},a.jMaskGlobals.keyStrokeCompensation),x.val(o),x.setCaret(e),x.callbacks(t)}},getMasked:function(t,i){var o,e,s,n=[],r=void 0===i?x.val():i+"",a=0,h=w.length,l=0,c=r.length,_=1,p="push",d=-1,u=0,f=[];for(e=$.reverse?(p="unshift",_=-1,o=0,a=h-1,l=c-1,function(){return-1<a&&-1<l}):(o=h-1,function(){return a<h&&l<c});e();){var m=w.charAt(a),g=r.charAt(l),v=k.translation[m];v?(g.match(v.pattern)?(n[p](g),v.recursive&&(-1===d?d=a:a===o&&a!==d&&(a=d-_),o===d&&(a-=_)),a+=_):g===s?(u--,s=void 0):v.optional?(a+=_,l-=_):v.fallback?(n[p](v.fallback),a+=_,l-=_):x.invalid.push({p:l,v:g,e:v.pattern}),l+=_):(t||n[p](m),g===m?(f.push(l),l+=_):(s=m,f.push(l+u),u++),a+=_)}var b=w.charAt(o);h!==c+1||k.translation[b]||n.push(b);var y=n.join("");return x.mapMaskdigitPositions(y,f,c),y},mapMaskdigitPositions:function(t,i,o){var e=$.reverse?t.length-o:0;x.maskDigitPosMap={};for(var s=0;s<i.length;s++)x.maskDigitPosMap[i[s]+e]=1},callbacks:function(t){var i=x.val(),o=i!==r,e=[i,t,p,$],s=function(t,i,o){"function"==typeof $[t]&&i&&$[t].apply(this,o)};s("onChange",!0==o,e),s("onKeyPress",!0==o,e),s("onComplete",i.length===w.length,e),s("onInvalid",0<x.invalid.length,[i,t,p,x.invalid,$])}};p=a(p);var n,k=this,r=x.val();w="function"==typeof w?w(x.val(),void 0,p,$):w,k.mask=w,k.options=$,k.remove=function(){var t=x.getCaret();return k.options.placeholder&&p.removeAttr("placeholder"),p.data("mask-maxlength")&&p.removeAttr("maxlength"),x.destroyEvents(),x.val(k.getCleanVal()),x.setCaret(t),p},k.getCleanVal=function(){return x.getMasked(!0)},k.getMaskedVal=function(t){return x.getMasked(!1,t)},k.init=function(t){if(t=t||!1,$=$||{},k.clearIfNotMatch=a.jMaskGlobals.clearIfNotMatch,k.byPassKeys=a.jMaskGlobals.byPassKeys,k.translation=a.extend({},a.jMaskGlobals.translation,$.translation),k=a.extend(!0,{},k,$),n=x.getRegexMask(),t)x.events(),x.val(x.getMasked());else{$.placeholder&&p.attr("placeholder",$.placeholder),p.data("mask")&&p.attr("autocomplete","off");for(var i=0,o=!0;i<w.length;i++){var e=k.translation[w.charAt(i)];if(e&&e.recursive){o=!1;break}}o&&p.attr("maxlength",w.length).data("mask-maxlength",!0),x.destroyEvents(),x.events();var s=x.getCaret();x.val(x.getMasked()),x.setCaret(s)}},k.init(!p.is("input"))};a.maskWatchers={};var i=function(){var t=a(this),i={},o="data-mask-",e=t.attr("data-mask");if(t.attr(o+"reverse")&&(i.reverse=!0),t.attr(o+"clearifnotmatch")&&(i.clearIfNotMatch=!0),"true"===t.attr(o+"selectonfocus")&&(i.selectOnFocus=!0),l(t,e,i))return t.data("mask",new h(this,e,i))},l=function(t,i,o){o=o||{};var e=a(t).data("mask"),s=JSON.stringify,n=a(t).val()||a(t).text();try{return"function"==typeof i&&(i=i(n)),"object"!=typeof e||s(e.options)!==s(o)||e.mask!==i}catch(t){}};a.fn.mask=function(t,i){i=i||{};var o=this.selector,e=a.jMaskGlobals,s=e.watchInterval,n=i.watchInputs||e.watchInputs,r=function(){if(l(this,t,i))return a(this).data("mask",new h(this,t,i))};return a(this).each(r),o&&""!==o&&n&&(clearInterval(a.maskWatchers[o]),a.maskWatchers[o]=setInterval(function(){a(document).find(o).each(r)},s)),this},a.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},a.fn.unmask=function(){return clearInterval(a.maskWatchers[this.selector]),delete a.maskWatchers[this.selector],this.each(function(){var t=a(this).data("mask");t&&t.remove().removeData("mask")})},a.fn.cleanVal=function(){return this.data("mask").getCleanVal()},a.applyDataMask=function(t){((t=t||a.jMaskGlobals.maskElements)instanceof a?t:a(t)).filter(a.jMaskGlobals.dataMaskAttr).each(i)};var t,o,e,s={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&(t="input",e=document.createElement("div"),(o=(t="on"+t)in e)||(e.setAttribute(t,"return;"),o="function"==typeof e[t]),e=null,o),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};a.jMaskGlobals=a.jMaskGlobals||{},(s=a.jMaskGlobals=a.extend(!0,{},s,a.jMaskGlobals)).dataMask&&a.applyDataMask(),setInterval(function(){a.jMaskGlobals.watchDataMask&&a.applyDataMask()},s.watchInterval)},window.jQuery,window.Zepto),function(i){!jQuery&&"function"==typeof define&&define.amd?define(["jquery"],function(t){return i(t,document,window,navigator)}):jQuery||"object"!=typeof exports?i(jQuery,document,window,navigator):i(require("jquery"),document,window,navigator)}(function(h,l,c,t,_){"use strict";var i,o,e=0,s=(i=t.userAgent,o=/msie\s\d+/i,0<i.search(o)&&o.exec(i).toString().split(" ")[1]<9&&(h("html").addClass("lt-ie9"),!0));Function.prototype.bind||(Function.prototype.bind=function(e){var s=this,n=[].slice;if("function"!=typeof s)throw new TypeError;var r=n.call(arguments,1),a=function(){if(this instanceof a){var t=function(){};t.prototype=s.prototype;var i=new t,o=s.apply(i,r.concat(n.call(arguments)));return Object(o)===o?o:i}return s.apply(e,r.concat(n.call(arguments)))};return a}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,i){var o;if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),s=e.length>>>0;if(0==s)return-1;var n=+i||0;if(Math.abs(n)===1/0&&(n=0),s<=n)return-1;for(o=Math.max(0<=n?n:s-Math.abs(n),0);o<s;){if(o in e&&e[o]===t)return o;o++}return-1});var n=function(t,i,o){this.VERSION="2.3.0",this.input=t,this.plugin_count=o,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,i=i||{},this.$cache={win:h(c),body:h(l.body),input:h(t),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var e,s,n,r=this.$cache.input,a=r.prop("value");for(n in e={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==r[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",r[0]),(s={skin:r.data("skin"),type:r.data("type"),min:r.data("min"),max:r.data("max"),from:r.data("from"),to:r.data("to"),step:r.data("step"),min_interval:r.data("minInterval"),max_interval:r.data("maxInterval"),drag_interval:r.data("dragInterval"),values:r.data("values"),from_fixed:r.data("fromFixed"),from_min:r.data("fromMin"),from_max:r.data("fromMax"),from_shadow:r.data("fromShadow"),to_fixed:r.data("toFixed"),to_min:r.data("toMin"),to_max:r.data("toMax"),to_shadow:r.data("toShadow"),prettify_enabled:r.data("prettifyEnabled"),prettify_separator:r.data("prettifySeparator"),force_edges:r.data("forceEdges"),keyboard:r.data("keyboard"),grid:r.data("grid"),grid_margin:r.data("gridMargin"),grid_num:r.data("gridNum"),grid_snap:r.data("gridSnap"),hide_min_max:r.data("hideMinMax"),hide_from_to:r.data("hideFromTo"),prefix:r.data("prefix"),postfix:r.data("postfix"),max_postfix:r.data("maxPostfix"),decorate_both:r.data("decorateBoth"),values_separator:r.data("valuesSeparator"),input_values_separator:r.data("inputValuesSeparator"),disable:r.data("disable"),block:r.data("block"),extra_classes:r.data("extraClasses")}).values=s.values&&s.values.split(","),s)s.hasOwnProperty(n)&&(s[n]!==_&&""!==s[n]||delete s[n]);a!==_&&""!==a&&((a=a.split(s.input_values_separator||i.input_values_separator||";"))[0]&&a[0]==+a[0]&&(a[0]=+a[0]),a[1]&&a[1]==+a[1]&&(a[1]=+a[1]),i&&i.values&&i.values.length?(e.from=a[0]&&i.values.indexOf(a[0]),e.to=a[1]&&i.values.indexOf(a[1])):(e.from=a[0]&&+a[0],e.to=a[1]&&+a[1])),h.extend(e,i),h.extend(e,s),this.options=e,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};n.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var t='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.min,i=this.options.max,o=this.options.from,e=this.options.to;t<o&&e===i?this.$cache.s_from.addClass("type_last"):e<i&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),s&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),s&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(t){var i,o;this.target||(i=(o="single"===this.options.type?this.$cache.single:this.$cache.from).offset().left,i+=o.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:i}))},pointerMove:function(t){if(this.dragging){var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;this.coords.x_pointer=i-this.coords.x_gap,this.calc()}},pointerUp:function(t){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,s&&h("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(h.contains(this.$cache.cont[0],t.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(t,i){i.preventDefault();var o=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&("both"===t&&this.setTempMinInterval(),t||(t=this.target||"from"),this.current_plugin=this.plugin_count,this.target=t,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=o-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(t),s&&h("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,i){i.preventDefault();var o=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(o-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,i){if(!(this.current_plugin!==this.plugin_count||i.altKey||i.ctrlKey||i.shiftKey||i.metaKey)){switch(i.which){case 83:case 65:case 40:case 37:i.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:i.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var i=this.coords.p_pointer,o=(this.options.max-this.options.min)/100;o=this.options.step/o,t?i+=o:i-=o,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*i),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");if(this.options.values.length)this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));else{var t=this._prettify(this.options.min),i=this._prettify(this.options.max);this.result.min_pretty=t,this.result.max_pretty=i,this.$cache.min.html(this.decorate(t,this.options.min)),this.$cache.max.html(this.decorate(i,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,(10===this.calc_count||t)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var i=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,i=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,i=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(i)),this.target){case"base":var o=(this.options.max-this.options.min)/100,e=(this.result.from-this.options.min)/o,s=(this.result.to-this.options.min)/o;this.coords.p_single_real=this.toFixed(e),this.coords.p_from_real=this.toFixed(e),this.coords.p_to_real=this.toFixed(s),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(i),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(i),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(i),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;i=this.toFixed(i+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(i)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(i)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var n=this.convertToRealPercent(i),r=this.result.from_percent,a=this.result.to_percent-r,h=a/2,l=n-h,c=n+h;l<0&&(c=(l=0)+a),100<c&&(l=(c=100)-a),this.coords.p_from_real=this.calcWithStep(l),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(c),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){this.coords.w_rs?(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,i=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return i<0?i=0:t<i&&(i=t),i},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2<=t?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%")),this.$cache.single[0].style.left=this.labels.p_single_left+"%",this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var t,i,o,e,s,n=this.options.values.length,r=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)t=n?this.decorate(r[this.result.from]):(e=this._prettify(this.result.from),this.decorate(e,this.result.from)),this.$cache.single.html(t),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{o=n?(this.options.decorate_both?(t=this.decorate(r[this.result.from]),t+=this.options.values_separator,t+=this.decorate(r[this.result.to])):t=this.decorate(r[this.result.from]+this.options.values_separator+r[this.result.to]),i=this.decorate(r[this.result.from]),this.decorate(r[this.result.to])):(e=this._prettify(this.result.from),s=this._prettify(this.result.to),this.options.decorate_both?(t=this.decorate(e,this.result.from),t+=this.options.values_separator,t+=this.decorate(s,this.result.to)):t=this.decorate(e+this.options.values_separator+s,this.result.to),i=this.decorate(e,this.result.from),this.decorate(s,this.result.to)),this.$cache.single.html(t),this.$cache.from.html(i),this.$cache.to.html(o),this.calcLabels();var a=Math.min(this.labels.p_single_left,this.labels.p_from_left),h=this.labels.p_single_left+this.labels.p_single_fake,l=this.labels.p_to_left+this.labels.p_to_fake,c=Math.max(h,l);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",c=this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",l):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",Math.max(h,l))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),a<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",c>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var t,i,o,e,s=this.options,n=this.$cache,r="number"==typeof s.from_min&&!isNaN(s.from_min),a="number"==typeof s.from_max&&!isNaN(s.from_max),h="number"==typeof s.to_min&&!isNaN(s.to_min),l="number"==typeof s.to_max&&!isNaN(s.to_max);"single"===s.type?s.from_shadow&&(r||a)?(t=this.convertToPercent(r?s.from_min:s.min),i=this.convertToPercent(a?s.from_max:s.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),i=this.toFixed(i-this.coords.p_handle/100*i),t+=this.coords.p_handle/2,n.shad_single[0].style.display="block",n.shad_single[0].style.left=t+"%",n.shad_single[0].style.width=i+"%"):n.shad_single[0].style.display="none":(s.from_shadow&&(r||a)?(t=this.convertToPercent(r?s.from_min:s.min),i=this.convertToPercent(a?s.from_max:s.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),i=this.toFixed(i-this.coords.p_handle/100*i),t+=this.coords.p_handle/2,n.shad_from[0].style.display="block",n.shad_from[0].style.left=t+"%",n.shad_from[0].style.width=i+"%"):n.shad_from[0].style.display="none",s.to_shadow&&(h||l)?(o=this.convertToPercent(h?s.to_min:s.min),e=this.convertToPercent(l?s.to_max:s.max)-o,o=this.toFixed(o-this.coords.p_handle/100*o),e=this.toFixed(e-this.coords.p_handle/100*e),o+=this.coords.p_handle/2,n.shad_to[0].style.display="block",n.shad_to[0].style.left=o+"%",n.shad_to[0].style.width=e+"%"):n.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,i){var o,e=this.options.max-this.options.min,s=e/100;return e?(o=(i?t:t-this.options.min)/s,this.toFixed(o)):(this.no_diapason=!0,0)},convertToValue:function(t){var i,o,e=this.options.min,s=this.options.max,n=e.toString().split(".")[1],r=s.toString().split(".")[1],a=0,h=0;if(0===t)return this.options.min;if(100===t)return this.options.max;n&&(a=i=n.length),r&&(a=o=r.length),i&&o&&(a=o<=i?i:o),e<0&&(e=+(e+(h=Math.abs(e))).toFixed(a),s=+(s+h).toFixed(a));var l,c=(s-e)/100*t+e,_=this.options.step.toString().split(".")[1];return c=_?+c.toFixed(_.length):(c/=this.options.step,+(c*=this.options.step).toFixed(0)),h&&(c-=h),(l=_?+c.toFixed(_.length):this.toFixed(c))<this.options.min?l=this.options.min:l>this.options.max&&(l=this.options.max),l},calcWithStep:function(t){var i=Math.round(t/this.coords.p_step)*this.coords.p_step;return 100<i&&(i=100),100===t&&(i=100),this.toFixed(i)},checkMinInterval:function(t,i,o){var e,s,n=this.options;return n.min_interval?(e=this.convertToValue(t),s=this.convertToValue(i),"from"===o?s-e<n.min_interval&&(e=s-n.min_interval):e-s<n.min_interval&&(e=s+n.min_interval),this.convertToPercent(e)):t},checkMaxInterval:function(t,i,o){var e,s,n=this.options;return n.max_interval?(e=this.convertToValue(t),s=this.convertToValue(i),"from"===o?s-e>n.max_interval&&(e=s-n.max_interval):e-s>n.max_interval&&(e=s+n.max_interval),this.convertToPercent(e)):t},checkDiapason:function(t,i,o){var e=this.convertToValue(t),s=this.options;return"number"!=typeof i&&(i=s.min),"number"!=typeof o&&(o=s.max),e<i&&(e=i),o<e&&(e=o),this.convertToPercent(e)},toFixed:function(t){return+(t=t.toFixed(20))},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,i){return this.options.force_edges&&(t<0?t=0:100-i<t&&(t=100-i)),this.toFixed(t)},validate:function(){var t,i,o=this.options,e=this.result,s=o.values,n=s.length;if("string"==typeof o.min&&(o.min=+o.min),"string"==typeof o.max&&(o.max=+o.max),"string"==typeof o.from&&(o.from=+o.from),"string"==typeof o.to&&(o.to=+o.to),"string"==typeof o.step&&(o.step=+o.step),"string"==typeof o.from_min&&(o.from_min=+o.from_min),"string"==typeof o.from_max&&(o.from_max=+o.from_max),"string"==typeof o.to_min&&(o.to_min=+o.to_min),"string"==typeof o.to_max&&(o.to_max=+o.to_max),"string"==typeof o.grid_num&&(o.grid_num=+o.grid_num),o.max<o.min&&(o.max=o.min),n)for(o.p_values=[],o.min=0,o.max=n-1,o.step=1,o.grid_num=o.max,o.grid_snap=!0,i=0;i<n;i++)t=+s[i],t=isNaN(t)?s[i]:(s[i]=t,this._prettify(t)),o.p_values.push(t);("number"!=typeof o.from||isNaN(o.from))&&(o.from=o.min),("number"!=typeof o.to||isNaN(o.to))&&(o.to=o.max),"single"===o.type?(o.from<o.min&&(o.from=o.min),o.from>o.max&&(o.from=o.max)):(o.from<o.min&&(o.from=o.min),o.from>o.max&&(o.from=o.max),o.to<o.min&&(o.to=o.min),o.to>o.max&&(o.to=o.max),this.update_check.from&&(this.update_check.from!==o.from&&o.from>o.to&&(o.from=o.to),this.update_check.to!==o.to&&o.to<o.from&&(o.to=o.from)),o.from>o.to&&(o.from=o.to),o.to<o.from&&(o.to=o.from)),("number"!=typeof o.step||isNaN(o.step)||!o.step||o.step<0)&&(o.step=1),"number"==typeof o.from_min&&o.from<o.from_min&&(o.from=o.from_min),"number"==typeof o.from_max&&o.from>o.from_max&&(o.from=o.from_max),"number"==typeof o.to_min&&o.to<o.to_min&&(o.to=o.to_min),"number"==typeof o.to_max&&o.from>o.to_max&&(o.to=o.to_max),e&&(e.min!==o.min&&(e.min=o.min),e.max!==o.max&&(e.max=o.max),(e.from<e.min||e.from>e.max)&&(e.from=o.from),(e.to<e.min||e.to>e.max)&&(e.to=o.to)),("number"!=typeof o.min_interval||isNaN(o.min_interval)||!o.min_interval||o.min_interval<0)&&(o.min_interval=0),("number"!=typeof o.max_interval||isNaN(o.max_interval)||!o.max_interval||o.max_interval<0)&&(o.max_interval=0),o.min_interval&&o.min_interval>o.max-o.min&&(o.min_interval=o.max-o.min),o.max_interval&&o.max_interval>o.max-o.min&&(o.max_interval=o.max-o.min)},decorate:function(t,i){var o="",e=this.options;return e.prefix&&(o+=e.prefix),o+=t,e.max_postfix&&(e.values.length&&t===e.p_values[e.max]?(o+=e.max_postfix,e.postfix&&(o+=" ")):i===e.max&&(o+=e.max_postfix,e.postfix&&(o+=" "))),e.postfix&&(o+=e.postfix),o},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,i,o,e,s,n,r=this.options,a=r.max-r.min,h=r.grid_num,l=0,c=4,_="";for(this.calcGridMargin(),r.grid_snap&&(h=a/r.step),50<h&&(h=50),o=this.toFixed(100/h),4<h&&(c=3),7<h&&(c=2),14<h&&(c=1),28<h&&(c=0),t=0;t<h+1;t++){for(e=c,100<(l=this.toFixed(o*t))&&(l=100),s=((this.coords.big[t]=l)-o*(t-1))/(e+1),i=1;i<=e&&0!==l;i++)_+='<span class="irs-grid-pol small" style="left: '+this.toFixed(l-s*i)+'%"></span>';_+='<span class="irs-grid-pol" style="left: '+l+'%"></span>',n=this.convertToValue(l),_+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+l+'%">'+(n=r.values.length?r.p_values[n]:this._prettify(n))+"</span>"}this.coords.big_num=Math.ceil(h+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(_),this.cacheGridLabels()}},cacheGridLabels:function(){var t,i,o=this.coords.big_num;for(i=0;i<o;i++)t=this.$cache.grid.find(".js-grid-text-"+i),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,i,o=[],e=[],s=this.coords.big_num;for(t=0;t<s;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),o[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),e[t]=this.toFixed(o[t]+this.coords.big_p[t]);for(this.options.force_edges&&(o[0]<-this.coords.grid_gap&&(o[0]=-this.coords.grid_gap,e[0]=this.toFixed(o[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),e[s-1]>100+this.coords.grid_gap&&(e[s-1]=100+this.coords.grid_gap,o[s-1]=this.toFixed(e[s-1]-this.coords.big_p[s-1]),this.coords.big_x[s-1]=this.toFixed(this.coords.big_p[s-1]-this.coords.grid_gap))),this.calcGridCollision(2,o,e),this.calcGridCollision(4,o,e),t=0;t<s;t++)i=this.$cache.grid_labels[t][0],this.coords.big_x[t]!==Number.POSITIVE_INFINITY&&(i.style.marginLeft=-this.coords.big_x[t]+"%")},calcGridCollision:function(t,i,o){var e,s,n,r=this.coords.big_num;for(e=0;e<r&&!(r<=(s=e+t/2));e+=t)n=this.$cache.grid_labels[s][0],o[e]<=i[s]?n.style.visibility="visible":n.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(t){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=h.extend(this.options,t),this.validate(),this.updateResult(t),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),h.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},h.fn.ionRangeSlider=function(t){return this.each(function(){h.data(this,"ionRangeSlider")||h.data(this,"ionRangeSlider",new n(this,t,e++))})},function(){for(var n=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!c.requestAnimationFrame;++i)c.requestAnimationFrame=c[t[i]+"RequestAnimationFrame"],c.cancelAnimationFrame=c[t[i]+"CancelAnimationFrame"]||c[t[i]+"CancelRequestAnimationFrame"];c.requestAnimationFrame||(c.requestAnimationFrame=function(t,i){var o=(new Date).getTime(),e=Math.max(0,16-(o-n)),s=c.setTimeout(function(){t(o+e)},e);return n=o+e,s}),c.cancelAnimationFrame||(c.cancelAnimationFrame=function(t){clearTimeout(t)})}()}),function(r){"use strict";var n=function(t,i){this.options=i,this.$body=r(document.body),this.$element=r(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,r.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function a(e,s){return this.each(function(){var t=r(this),i=t.data("bs.modal"),o=r.extend({},n.DEFAULTS,t.data(),"object"==typeof e&&e);i||t.data("bs.modal",i=new n(this,o)),"string"==typeof e?i[e](s):o.show&&i.show(s)})}n.VERSION="3.4.1",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(o){var e=this,t=r.Event("show.bs.modal",{relatedTarget:o});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',r.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){e.$element.one("mouseup.dismiss.bs.modal",function(t){r(t.target).is(e.$element)&&(e.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=r.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(e.$body),e.$element.show().scrollTop(0),e.adjustDialog(),t&&e.$element[0].offsetWidth,e.$element.addClass("in"),e.enforceFocus();var i=r.Event("shown.bs.modal",{relatedTarget:o});t?e.$dialog.one("bsTransitionEnd",function(){e.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(n.TRANSITION_DURATION):e.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=r.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),r(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),r.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",r.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){r(document).off("focusin.bs.modal").on("focusin.bs.modal",r.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",r.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?r(window).on("resize.bs.modal",r.proxy(this.handleUpdate,this)):r(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=r.support.transition&&o;if(this.$backdrop=r(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",r.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;e?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),t&&t()};r.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var i=document.documentElement.getBoundingClientRect();t=i.right-Math.abs(i.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var s=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",t+s),r(this.fixedContent).each(function(t,i){var o=i.style.paddingRight,e=r(i).css("padding-right");r(i).data("padding-right",o).css("padding-right",parseFloat(e)+s+"px")}))},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),r(this.fixedContent).each(function(t,i){var o=r(i).data("padding-right");r(i).removeData("padding-right"),i.style.paddingRight=o||""})},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var i=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),i};var t=r.fn.modal;r.fn.modal=a,r.fn.modal.Constructor=n,r.fn.modal.noConflict=function(){return r.fn.modal=t,this},r(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=r(this),o=i.attr("href"),e=i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,""),s=r(document).find(e),n=s.data("bs.modal")?"toggle":r.extend({remote:!/#/.test(o)&&o},s.data(),i.data());i.is("a")&&t.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),a.call(s,n,this)})}(jQuery);var allSize=[];function max(t){for(var i=t[0],o=1;o<t.length;o++)t[o]>i&&(i=t[o]);return i}function min(t){for(var i=t[0],o=1;o<t.length;o++)t[o]<i&&(i=t[o]);return i}$("path").each(function(t){allSize.push(Number($(this).attr("data-size")))});var FilterArray=allSize.filter(Boolean),minAllSize=min(FilterArray),maxAllSize=max(FilterArray);function rangePrice(t,i,o){$("."+t).ionRangeSlider({type:"double",min:o,max:o,step:1,prefix:"",hide_min_max:!0,onChange:function(i){$("a path").each(function(t){"red"!=$(this).attr("data-status")&&($(this).attr("data-size")>=i.from&&$(this).attr("data-size")<=i.to?$(this).attr("fill-opacity",.4):$(this).attr("fill-opacity",0))})}})}function imgWidthCalc(){if($(window).width()<991){var t=$(".big-img img").width();$(".big-img").width(t)}}function rangePrice(t){$("."+t).ionRangeSlider({type:"double",min:12e3,max:25e3,from:12e3,step:500,prefix:"$",hide_min_max:!0})}function showMasks(){$(".js-phone").mask("(000) 000 0000")}function preloaderHide(){setTimeout(function(){$(".js-preloader").fadeOut()},1e3)}function anchor(){$(".js-scrollLink").click(function(t){t.preventDefault(),$("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500)})}function scrollPosition(){Object.defineProperty(HTMLElement.prototype,"scrollTo",{value:function(t,i){o.scrollTop=i,o.scrollLeft=t},enumerable:!1});var o=document.getElementById("mapWrapper");o.scrollTo(778,0)}function tooltip(){$("svg a").tooltipster({contentCloning:!0})}$(document).on("submit",".js_ajax",function(){location.href;var t=$(this).serialize();return $.ajax({cache:!1,url:"/",data:t,type:"POST",dataType:"json",success:function(t){$("#js-contacts").modal("hide"),1==t.status&&($("#js-thanks .modal-title").text("Спасибо! Ваши контакты отправлены"),$("#js-thanks").modal("show")),0==t.status&&($("#js-thanks .modal-title").text("Извините! Что-то пошло не так"),$("#js-thanks").modal("show"))}}),!1}),function(t,i){"function"==typeof define&&define.amd?define(["jquery"],function(t){return i(t)}):"object"==typeof exports?module.exports=i(require("jquery")):i(jQuery)}(0,function(O){var _={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},s="undefined"!=typeof window?window:null,I={hasTouchCapability:!(!s||!("ontouchstart"in s||s.DocumentTouch&&s.document instanceof s.DocumentTouch||s.navigator.maxTouchPoints)),hasTransitions:function(){if(!s)return!1;var t=(s.document.body||s.document.documentElement).style,i="transition",o=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[i])return!0;i=i.charAt(0).toUpperCase()+i.substr(1);for(var e=0;e<o.length;e++)if("string"==typeof t[o[e]+i])return!0;return!1}(),IE:!1,semVer:"4.2.6",window:s},t=function(){this.__$emitterPrivate=O({}),this.__$emitterPublic=O({}),this.__instancesLatestArr=[],this.__plugins={},this._env=I};function i(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function n(o,e){var s=!0;return O.each(o,function(t,i){if(void 0===e[t]||o[t]!==e[t])return s=!1}),s}function c(t){var i=t.attr("id"),o=i?I.window.document.getElementById(i):null;return o?o===t[0]:O.contains(I.window.document.body,t[0])}t.prototype={__bridge:function(t,o,e){if(!o[e]){var i=function(){};i.prototype=t;var s=new i;s.__init&&s.__init(o),O.each(t,function(t,i){0!=t.indexOf("__")&&(o[t]?_.debug&&console.log("The "+t+" method of the "+e+" plugin conflicts with another plugin or native methods"):(o[t]=function(){return s[t].apply(s,Array.prototype.slice.apply(arguments))},o[t].bridged=s))}),o[e]=s}return this},__setWindow:function(t){return I.window=t,this},_getRuler:function(t){return new i(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(t){var i=this;if("string"==typeof t){var o=t,e=null;return 0<o.indexOf(".")?e=i.__plugins[o]:O.each(i.__plugins,function(t,i){if(i.name.substring(i.name.length-o.length-1)=="."+o)return e=i,!1}),e}if(t.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return(i.__plugins[t.name]=t).core&&i.__bridge(t.core,i,t.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(t){var e=[];return O(t||".tooltipstered").each(function(){var o=O(this),t=o.data("tooltipster-ns");t&&O.each(t,function(t,i){e.push(o.data(i))})}),e},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(t){return O((t?t+" ":"")+".tooltipstered").toArray()},setDefaults:function(t){return O.extend(_,t),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},O.tooltipster=new t,O.Tooltipster=function(t,i){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=O({}),this.__$emitterPublic=O({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(t,i)},O.Tooltipster.prototype={__init:function(t,i){var o=this;if(o._$origin=O(t),o.__options=O.extend(!0,{},_,i),o.__optionsFormat(),!I.IE||I.IE>=o.__options.IEmin){var e=null;if(void 0===o._$origin.data("tooltipster-initialTitle")&&(void 0===(e=o._$origin.attr("title"))&&(e=null),o._$origin.data("tooltipster-initialTitle",e)),null!==o.__options.content)o.__contentSet(o.__options.content);else{var s,n=o._$origin.attr("data-tooltip-content");n&&(s=O(n)),s&&s[0]?o.__contentSet(s.first()):o.__contentSet(e)}o._$origin.removeAttr("title").addClass("tooltipstered"),o.__prepareOrigin(),o.__prepareGC(),O.each(o.__options.plugins,function(t,i){o._plug(i)}),I.hasTouchCapability&&O(I.window.document.body).on("touchmove."+o.__namespace+"-triggerOpen",function(t){o._touchRecordEvent(t)}),o._on("created",function(){o.__prepareTooltip()})._on("repositioned",function(t){o.__lastPosition=t.position})}else o.__options.disabled=!0},__contentInsert:function(){var t=this,i=t._$tooltip.find(".tooltipster-content"),o=t.__Content;return t._trigger({type:"format",content:t.__Content,format:function(t){o=t}}),t.__options.functionFormat&&(o=t.__options.functionFormat.call(t,t,{origin:t._$origin[0]},t.__Content)),"string"!=typeof o||t.__options.contentAsHTML?i.empty().append(o):i.text(o),t},__contentSet:function(t){return t instanceof O&&this.__options.contentCloning&&(t=t.clone(!0)),this.__Content=t,this._trigger({type:"updated",content:t}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var t=this,i=t._$origin,o=t._$origin.is("area");if(o){var e=t._$origin.parent().attr("name");i=O('img[usemap="#'+e+'"]')}var s=i[0].getBoundingClientRect(),n=O(I.window.document),r=O(I.window),a=i,h={available:{document:null,window:null},document:{size:{height:n.height(),width:n.width()}},window:{scroll:{left:I.window.scrollX||I.window.document.documentElement.scrollLeft,top:I.window.scrollY||I.window.document.documentElement.scrollTop},size:{height:r.height(),width:r.width()}},origin:{fixedLineage:!1,offset:{},size:{height:s.bottom-s.top,width:s.right-s.left},usemapImage:o?i[0]:null,windowOffset:{bottom:s.bottom,left:s.left,right:s.right,top:s.top}}};if(o){var l=t._$origin.attr("shape"),c=t._$origin.attr("coords");if(c&&(c=c.split(","),O.map(c,function(t,i){c[i]=parseInt(t)})),"default"!=l)switch(l){case"circle":var _=c[0],p=c[1],d=c[2],u=p-d,f=_-d;h.origin.size.height=2*d,h.origin.size.width=h.origin.size.height,h.origin.windowOffset.left+=f,h.origin.windowOffset.top+=u;break;case"rect":var m=c[0],g=c[1],v=c[2],b=c[3];h.origin.size.height=b-g,h.origin.size.width=v-m,h.origin.windowOffset.left+=m,h.origin.windowOffset.top+=g;break;case"poly":for(var y=0,w=0,$=0,x=0,k="even",C=0;C<c.length;C++){var T=c[C];k="even"==k?($<T&&($=T,0===C&&(y=$)),T<y&&(y=T),"odd"):(x<T&&(x=T,1==C&&(w=x)),T<w&&(w=T),"even")}h.origin.size.height=x-w,h.origin.size.width=$-y,h.origin.windowOffset.left+=y,h.origin.windowOffset.top+=w}}for(t._trigger({type:"geometry",edit:function(t){h.origin.size.height=t.height,h.origin.windowOffset.left=t.left,h.origin.windowOffset.top=t.top,h.origin.size.width=t.width},geometry:{height:h.origin.size.height,left:h.origin.windowOffset.left,top:h.origin.windowOffset.top,width:h.origin.size.width}}),h.origin.windowOffset.right=h.origin.windowOffset.left+h.origin.size.width,h.origin.windowOffset.bottom=h.origin.windowOffset.top+h.origin.size.height,h.origin.offset.left=h.origin.windowOffset.left+h.window.scroll.left,h.origin.offset.top=h.origin.windowOffset.top+h.window.scroll.top,h.origin.offset.bottom=h.origin.offset.top+h.origin.size.height,h.origin.offset.right=h.origin.offset.left+h.origin.size.width,h.available.document={bottom:{height:h.document.size.height-h.origin.offset.bottom,width:h.document.size.width},left:{height:h.document.size.height,width:h.origin.offset.left},right:{height:h.document.size.height,width:h.document.size.width-h.origin.offset.right},top:{height:h.origin.offset.top,width:h.document.size.width}},h.available.window={bottom:{height:Math.max(h.window.size.height-Math.max(h.origin.windowOffset.bottom,0),0),width:h.window.size.width},left:{height:h.window.size.height,width:Math.max(h.origin.windowOffset.left,0)},right:{height:h.window.size.height,width:Math.max(h.window.size.width-Math.max(h.origin.windowOffset.right,0),0)},top:{height:Math.max(h.origin.windowOffset.top,0),width:h.window.size.width}};"html"!=a[0].tagName.toLowerCase();){if("fixed"==a.css("position")){h.origin.fixedLineage=!0;break}a=a.parent()}return h},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=O(I.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=O(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var t=this;return t.__options.selfDestruction?t.__garbageCollector=setInterval(function(){var o=(new Date).getTime();t.__touchEvents=O.grep(t.__touchEvents,function(t,i){return 6e4<o-t.time}),c(t._$origin)||t.close(function(){t.destroy()})},2e4):clearInterval(t.__garbageCollector),t},__prepareOrigin:function(){var i=this;if(i._$origin.off("."+i.__namespace+"-triggerOpen"),I.hasTouchCapability&&i._$origin.on("touchstart."+i.__namespace+"-triggerOpen touchend."+i.__namespace+"-triggerOpen touchcancel."+i.__namespace+"-triggerOpen",function(t){i._touchRecordEvent(t)}),i.__options.triggerOpen.click||i.__options.triggerOpen.tap&&I.hasTouchCapability){var t="";i.__options.triggerOpen.click&&(t+="click."+i.__namespace+"-triggerOpen "),i.__options.triggerOpen.tap&&I.hasTouchCapability&&(t+="touchend."+i.__namespace+"-triggerOpen"),i._$origin.on(t,function(t){i._touchIsMeaningfulEvent(t)&&i._open(t)})}if(i.__options.triggerOpen.mouseenter||i.__options.triggerOpen.touchstart&&I.hasTouchCapability){t="";i.__options.triggerOpen.mouseenter&&(t+="mouseenter."+i.__namespace+"-triggerOpen "),i.__options.triggerOpen.touchstart&&I.hasTouchCapability&&(t+="touchstart."+i.__namespace+"-triggerOpen"),i._$origin.on(t,function(t){!i._touchIsTouchEvent(t)&&i._touchIsEmulatedEvent(t)||(i.__pointerIsOverOrigin=!0,i._openShortly(t))})}if(i.__options.triggerClose.mouseleave||i.__options.triggerClose.touchleave&&I.hasTouchCapability){t="";i.__options.triggerClose.mouseleave&&(t+="mouseleave."+i.__namespace+"-triggerOpen "),i.__options.triggerClose.touchleave&&I.hasTouchCapability&&(t+="touchend."+i.__namespace+"-triggerOpen touchcancel."+i.__namespace+"-triggerOpen"),i._$origin.on(t,function(t){i._touchIsMeaningfulEvent(t)&&(i.__pointerIsOverOrigin=!1)})}return i},__prepareTooltip:function(){var o=this,t=o.__options.interactive?"auto":"";return o._$tooltip.attr("id",o.__namespace).css({"pointer-events":t,zIndex:o.__options.zIndex}),O.each(o.__previousThemes,function(t,i){o._$tooltip.removeClass(i)}),O.each(o.__options.theme,function(t,i){o._$tooltip.addClass(i)}),o.__previousThemes=O.merge([],o.__options.theme),o},__scrollHandler:function(t){var i=this;if(i.__options.triggerClose.scroll)i._close(t);else if(c(i._$origin)&&c(i._$tooltip)){var r=null;if(t.target===I.window.document)i.__Geometry.origin.fixedLineage||i.__options.repositionOnScroll&&i.reposition(t);else{r=i.__geometry();var a=!1;if("fixed"!=i._$origin.css("position")&&i.__$originParents.each(function(t,i){var o=O(i),e=o.css("overflow-x"),s=o.css("overflow-y");if("visible"!=e||"visible"!=s){var n=i.getBoundingClientRect();if("visible"!=e&&(r.origin.windowOffset.left<n.left||r.origin.windowOffset.right>n.right))return!(a=!0);if("visible"!=s&&(r.origin.windowOffset.top<n.top||r.origin.windowOffset.bottom>n.bottom))return!(a=!0)}if("fixed"==o.css("position"))return!1}),a)i._$tooltip.css("visibility","hidden");else if(i._$tooltip.css("visibility","visible"),i.__options.repositionOnScroll)i.reposition(t);else{var o=r.origin.offset.left-i.__Geometry.origin.offset.left,e=r.origin.offset.top-i.__Geometry.origin.offset.top;i._$tooltip.css({left:i.__lastPosition.coord.left+o,top:i.__lastPosition.coord.top+e})}}i._trigger({type:"scroll",event:t,geo:r})}return i},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,O.each(this.__timeouts.close,function(t,i){clearTimeout(i)}),this.__timeouts.close=[],this},__trackerStart:function(){var e=this,s=e._$tooltip.find(".tooltipster-content");return e.__options.trackTooltip&&(e.__contentBcr=s[0].getBoundingClientRect()),e.__tracker=setInterval(function(){if(c(e._$origin)&&c(e._$tooltip)){if(e.__options.trackOrigin){var t=e.__geometry(),i=!1;n(t.origin.size,e.__Geometry.origin.size)&&(e.__Geometry.origin.fixedLineage?n(t.origin.windowOffset,e.__Geometry.origin.windowOffset)&&(i=!0):n(t.origin.offset,e.__Geometry.origin.offset)&&(i=!0)),i||(e.__options.triggerClose.mouseleave?e._close():e.reposition())}if(e.__options.trackTooltip){var o=s[0].getBoundingClientRect();o.height===e.__contentBcr.height&&o.width===e.__contentBcr.width||(e.reposition(),e.__contentBcr=o)}}else e._close()},e.__options.trackerInterval),e},_close:function(o,t,i){var e=this,s=!0;if(e._trigger({type:"close",event:o,stop:function(){s=!1}}),s||i){t&&e.__callbacks.close.push(t),e.__callbacks.open=[],e.__timeoutsClear();var n=function(){O.each(e.__callbacks.close,function(t,i){i.call(e,e,{event:o,origin:e._$origin[0]})}),e.__callbacks.close=[]};if("closed"!=e.__state){var r=!0,a=(new Date).getTime()+e.__options.animationDuration[1];if("disappearing"==e.__state&&a>e.__closingTime&&0<e.__options.animationDuration[1]&&(r=!1),r){e.__closingTime=a,"disappearing"!=e.__state&&e.__stateSet("disappearing");var h=function(){clearInterval(e.__tracker),e._trigger({type:"closing",event:o}),e._$tooltip.off("."+e.__namespace+"-triggerClose").removeClass("tooltipster-dying"),O(I.window).off("."+e.__namespace+"-triggerClose"),e.__$originParents.each(function(t,i){O(i).off("scroll."+e.__namespace+"-triggerClose")}),e.__$originParents=null,O(I.window.document.body).off("."+e.__namespace+"-triggerClose"),e._$origin.off("."+e.__namespace+"-triggerClose"),e._off("dismissable"),e.__stateSet("closed"),e._trigger({type:"after",event:o}),e.__options.functionAfter&&e.__options.functionAfter.call(e,e,{event:o,origin:e._$origin[0]}),n()};I.hasTransitions?(e._$tooltip.css({"-moz-animation-duration":e.__options.animationDuration[1]+"ms","-ms-animation-duration":e.__options.animationDuration[1]+"ms","-o-animation-duration":e.__options.animationDuration[1]+"ms","-webkit-animation-duration":e.__options.animationDuration[1]+"ms","animation-duration":e.__options.animationDuration[1]+"ms","transition-duration":e.__options.animationDuration[1]+"ms"}),e._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<e.__options.animationDuration[1]&&e._$tooltip.delay(e.__options.animationDuration[1]),e._$tooltip.queue(h)):e._$tooltip.stop().fadeOut(e.__options.animationDuration[1],h)}}else n()}return e},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(t,i){var o=this;if(!o.__destroying&&c(o._$origin)&&o.__enabled){var e=!0;if("closed"==o.__state&&(o._trigger({type:"before",event:t,stop:function(){e=!1}}),e&&o.__options.functionBefore&&(e=o.__options.functionBefore.call(o,o,{event:t,origin:o._$origin[0]}))),!1!==e&&null!==o.__Content){i&&o.__callbacks.open.push(i),o.__callbacks.close=[],o.__timeoutsClear();var s,n=function(){"stable"!=o.__state&&o.__stateSet("stable"),O.each(o.__callbacks.open,function(t,i){i.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}),o.__callbacks.open=[]};if("closed"!==o.__state)s=0,"disappearing"===o.__state?(o.__stateSet("appearing"),I.hasTransitions?(o._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<o.__options.animationDuration[0]&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(n)):o._$tooltip.stop().fadeIn(n)):"stable"==o.__state&&n();else{if(o.__stateSet("appearing"),s=o.__options.animationDuration[0],o.__contentInsert(),o.reposition(t,!0),I.hasTransitions?(o._$tooltip.addClass("tooltipster-"+o.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":o.__options.animationDuration[0]+"ms","-ms-animation-duration":o.__options.animationDuration[0]+"ms","-o-animation-duration":o.__options.animationDuration[0]+"ms","-webkit-animation-duration":o.__options.animationDuration[0]+"ms","animation-duration":o.__options.animationDuration[0]+"ms","transition-duration":o.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=o.__state&&(o._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<o.__options.animationDuration[0]&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(n))},0)):o._$tooltip.css("display","none").fadeIn(o.__options.animationDuration[0],n),o.__trackerStart(),O(I.window).on("resize."+o.__namespace+"-triggerClose",function(t){var i=O(document.activeElement);(i.is("input")||i.is("textarea"))&&O.contains(o._$tooltip[0],i[0])||o.reposition(t)}).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)}),o.__$originParents=o._$origin.parents(),o.__$originParents.each(function(t,i){O(i).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)})}),o.__options.triggerClose.mouseleave||o.__options.triggerClose.touchleave&&I.hasTouchCapability){o._on("dismissable",function(t){t.dismissable?t.delay?(l=setTimeout(function(){o._close(t.event)},t.delay),o.__timeouts.close.push(l)):o._close(t):clearTimeout(l)});var r=o._$origin,a="",h="",l=null;o.__options.interactive&&(r=r.add(o._$tooltip)),o.__options.triggerClose.mouseleave&&(a+="mouseenter."+o.__namespace+"-triggerClose ",h+="mouseleave."+o.__namespace+"-triggerClose "),o.__options.triggerClose.touchleave&&I.hasTouchCapability&&(a+="touchstart."+o.__namespace+"-triggerClose",h+="touchend."+o.__namespace+"-triggerClose touchcancel."+o.__namespace+"-triggerClose"),r.on(h,function(t){if(o._touchIsTouchEvent(t)||!o._touchIsEmulatedEvent(t)){var i="mouseleave"==t.type?o.__options.delay:o.__options.delayTouch;o._trigger({delay:i[1],dismissable:!0,event:t,type:"dismissable"})}}).on(a,function(t){!o._touchIsTouchEvent(t)&&o._touchIsEmulatedEvent(t)||o._trigger({dismissable:!1,event:t,type:"dismissable"})})}o.__options.triggerClose.originClick&&o._$origin.on("click."+o.__namespace+"-triggerClose",function(t){o._touchIsTouchEvent(t)||o._touchIsEmulatedEvent(t)||o._close(t)}),(o.__options.triggerClose.click||o.__options.triggerClose.tap&&I.hasTouchCapability)&&setTimeout(function(){if("closed"!=o.__state){var t="",i=O(I.window.document.body);o.__options.triggerClose.click&&(t+="click."+o.__namespace+"-triggerClose "),o.__options.triggerClose.tap&&I.hasTouchCapability&&(t+="touchend."+o.__namespace+"-triggerClose"),i.on(t,function(t){o._touchIsMeaningfulEvent(t)&&(o._touchRecordEvent(t),o.__options.interactive&&O.contains(o._$tooltip[0],t.target)||o._close(t))}),o.__options.triggerClose.tap&&I.hasTouchCapability&&i.on("touchstart."+o.__namespace+"-triggerClose",function(t){o._touchRecordEvent(t)})}},0),o._trigger("ready"),o.__options.functionReady&&o.__options.functionReady.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}if(0<o.__options.timer){l=setTimeout(function(){o._close()},o.__options.timer+s);o.__timeouts.close.push(l)}}}return o},_openShortly:function(t){var i=this,o=!0;if("stable"!=i.__state&&"appearing"!=i.__state&&!i.__timeouts.open&&(i._trigger({type:"start",event:t,stop:function(){o=!1}}),o)){var e=0==t.type.indexOf("touch")?i.__options.delayTouch:i.__options.delay;e[0]?i.__timeouts.open=setTimeout(function(){i.__timeouts.open=null,i.__pointerIsOverOrigin&&i._touchIsMeaningfulEvent(t)?(i._trigger("startend"),i._open(t)):i._trigger("startcancel")},e[0]):(i._trigger("startend"),i._open(t))}return i},_optionsExtract:function(t,i){var e=this,o=O.extend(!0,{},i),s=e.__options[t];return s||(s={},O.each(i,function(t,i){var o=e.__options[t];void 0!==o&&(s[t]=o)})),O.each(o,function(t,i){void 0!==s[t]&&("object"!=typeof i||i instanceof Array||null==i||"object"!=typeof s[t]||s[t]instanceof Array||null==s[t]?o[t]=s[t]:O.extend(o[t],s[t]))}),o},_plug:function(t){var i=O.tooltipster._plugin(t);if(!i)throw new Error('The "'+t+'" plugin is not defined');return i.instance&&O.tooltipster.__bridge(i.instance,this,i.name),this},_touchIsEmulatedEvent:function(t){for(var i=!1,o=(new Date).getTime(),e=this.__touchEvents.length-1;0<=e;e--){var s=this.__touchEvents[e];if(!(o-s.time<500))break;s.target===t.target&&(i=!0)}return i},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var i=!1,o=this.__touchEvents.length-1;0<=o;o--){var e=this.__touchEvents[o];if("touchmove"==e.type){i=!0;break}if("touchstart"==e.type&&t===e.target)break}return i},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),t[0].instance=this,t[0].origin=this._$origin?this._$origin[0]:null,t[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),O.tooltipster._trigger.apply(O.tooltipster,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},_unplug:function(o){var e=this;if(e[o]){var t=O.tooltipster._plugin(o);t.instance&&O.each(t.instance,function(t,i){e[t]&&e[t].bridged===e[o]&&delete e[t]}),e[o].__destroy&&e[o].__destroy(),delete e[o]}return e},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var i=this;if(void 0===t)return i.__Content;if(i.__destroyed)i.__destroyError();else if(i.__contentSet(t),null!==i.__Content){if("closed"!==i.__state&&(i.__contentInsert(),i.reposition(),i.__options.updateAnimation))if(I.hasTransitions){var o=i.__options.updateAnimation;i._$tooltip.addClass("tooltipster-update-"+o),setTimeout(function(){"closed"!=i.__state&&i._$tooltip.removeClass("tooltipster-update-"+o)},1e3)}else i._$tooltip.fadeTo(200,.5,function(){"closed"!=i.__state&&i._$tooltip.fadeTo(200,1)})}else i._close();return i},destroy:function(){var o=this;if(o.__destroyed)o.__destroyError();else{"closed"!=o.__state?o.option("animationDuration",0)._close(null,null,!0):o.__timeoutsClear(),o._trigger("destroy"),o.__destroyed=!0,o._$origin.removeData(o.__namespace).off("."+o.__namespace+"-triggerOpen"),O(I.window.document.body).off("."+o.__namespace+"-triggerOpen");var t=o._$origin.data("tooltipster-ns");if(t)if(1===t.length){var i=null;"previous"==o.__options.restoration?i=o._$origin.data("tooltipster-initialTitle"):"current"==o.__options.restoration&&(i="string"==typeof o.__Content?o.__Content:O("<div></div>").append(o.__Content).html()),i&&o._$origin.attr("title",i),o._$origin.removeClass("tooltipstered"),o._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else t=O.grep(t,function(t,i){return t!==o.__namespace}),o._$origin.data("tooltipster-ns",t);o._trigger("destroyed"),o._off(),o.off(),o.__Content=null,o.__$emitterPrivate=null,o.__$emitterPublic=null,o.__options.parent=null,o._$origin=null,o._$tooltip=null,O.tooltipster.__instancesLatestArr=O.grep(O.tooltipster.__instancesLatestArr,function(t,i){return o!==t}),clearInterval(o.__garbageCollector)}return o},disable:function(){return this.__destroyed?this.__destroyError():(this._close(),this.__enabled=!1),this},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed?this.__destroyError():this._open(null,t),this},option:function(t,i){return void 0===i?this.__options[t]:(this.__destroyed?this.__destroyError():(this.__options[t]=i,this.__optionsFormat(),0<=O.inArray(t,["trigger","triggerClose","triggerOpen"])&&this.__prepareOrigin(),"selfDestruction"===t&&this.__prepareGC()),this)},reposition:function(t,i){var o=this;return o.__destroyed?o.__destroyError():"closed"!=o.__state&&c(o._$origin)&&(i||c(o._$tooltip))&&(i||o._$tooltip.detach(),o.__Geometry=o.__geometry(),o._trigger({type:"reposition",event:t,helper:{geo:o.__Geometry}})),o},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},O.fn.tooltipster=function(){var s=Array.prototype.slice.apply(arguments),e="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof s[0]){var n="#*$~&";return this.each(function(){var t=O(this).data("tooltipster-ns"),i=t?O(this).data(t[0]):null;if(!i)throw new Error("You called Tooltipster's \""+s[0]+'" method on an uninitialized element');if("function"!=typeof i[s[0]])throw new Error('Unknown method "'+s[0]+'"');1<this.length&&"content"==s[0]&&(s[1]instanceof O||"object"==typeof s[1]&&null!=s[1]&&s[1].tagName)&&!i.__options.contentCloning&&i.__options.debug&&console.log(e);var o=i[s[0]](s[1],s[2]);if(o!==i||"instance"===s[0])return n=o,!1}),"#*$~&"!==n?n:this}O.tooltipster.__instancesLatestArr=[];var t=s[0]&&void 0!==s[0].multiple,r=t&&s[0].multiple||!t&&_.multiple,i=s[0]&&void 0!==s[0].content,o=i&&s[0].content||!i&&_.content,a=s[0]&&void 0!==s[0].contentCloning,h=a&&s[0].contentCloning||!a&&_.contentCloning,l=s[0]&&void 0!==s[0].debug,c=l&&s[0].debug||!l&&_.debug;return 1<this.length&&(o instanceof O||"object"==typeof o&&null!=o&&o.tagName)&&!h&&c&&console.log(e),this.each(function(){var t=!1,i=O(this),o=i.data("tooltipster-ns"),e=null;o?r?t=!0:c&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):t=!0,t&&(e=new O.Tooltipster(this,s[0]),o||(o=[]),o.push(e.__namespace),i.data("tooltipster-ns",o),i.data(e.__namespace,e),e.__options.functionInit&&e.__options.functionInit.call(e,e,{origin:this}),e._trigger("init")),O.tooltipster.__instancesLatestArr.push(e)}),this},i.prototype={__init:function(t){this.__$tooltip=t,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=O('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(I.window.document.body)},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,i){return this.constraints={width:t,height:i},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),i={size:{height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}};if(this.constraints){var o=this.__$tooltip.find(".tooltipster-content"),e=this.__$tooltip.outerHeight(),s=o[0].getBoundingClientRect(),n={height:e<=this.constraints.height,width:t.width<=this.constraints.width&&s.width>=o[0].scrollWidth-1};i.fits=n.height&&n.width}return I.IE&&I.IE<=11&&i.size.width!==I.window.document.documentElement.clientWidth&&(i.size.width=Math.ceil(i.size.width)+1),i}};var o=navigator.userAgent.toLowerCase();-1!=o.indexOf("msie")?I.IE=parseInt(o.split("msie")[1]):-1!==o.toLowerCase().indexOf("trident")&&-1!==o.indexOf(" rv:11")?I.IE=11:-1!=o.toLowerCase().indexOf("edge/")&&(I.IE=parseInt(o.toLowerCase().split("edge/")[1]));var e="tooltipster.sideTip";return O.tooltipster._plugin({name:e,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var i=this;i.__instance=t,i.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),i.__previousState="closed",i.__options,i.__optionsFormat(),i.__instance._on("state."+i.__namespace,function(t){"closed"==t.state?i.__close():"appearing"==t.state&&"closed"==i.__previousState&&i.__create(),i.__previousState=t.state}),i.__instance._on("options."+i.__namespace,function(){i.__optionsFormat()}),i.__instance._on("reposition."+i.__namespace,function(t){i.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof O&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var t=O('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||t.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&t.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&t.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=t,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var t=this;if(t.__options=t.__instance._optionsExtract(e,t.__defaults()),t.__options.position&&(t.__options.side=t.__options.position),"object"!=typeof t.__options.distance&&(t.__options.distance=[t.__options.distance]),t.__options.distance.length<4&&(void 0===t.__options.distance[1]&&(t.__options.distance[1]=t.__options.distance[0]),void 0===t.__options.distance[2]&&(t.__options.distance[2]=t.__options.distance[0]),void 0===t.__options.distance[3]&&(t.__options.distance[3]=t.__options.distance[1]),t.__options.distance={top:t.__options.distance[0],right:t.__options.distance[1],bottom:t.__options.distance[2],left:t.__options.distance[3]}),"string"==typeof t.__options.side){t.__options.side=[t.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[t.__options.side]],"left"==t.__options.side[0]||"right"==t.__options.side[0]?t.__options.side.push("top","bottom"):t.__options.side.push("right","left")}6===O.tooltipster._env.IE&&!0!==t.__options.arrow&&(t.__options.arrow=!1)},__reposition:function(h,l){var i,c=this,_=c.__targetFind(l),p=[];c.__instance._$tooltip.detach();var o=c.__instance._$tooltip.clone(),d=O.tooltipster._getRuler(o),u=!1,t=c.__instance.option("animation");switch(t&&o.removeClass("tooltipster-"+t),O.each(["window","document"],function(t,s){var n=null;if(c.__instance._trigger({container:s,helper:l,satisfied:u,takeTest:function(t){n=t},results:p,type:"positionTest"}),1==n||0!=n&&0==u&&("window"!=s||c.__options.viewportAware))for(t=0;t<c.__options.side.length;t++){var r={horizontal:0,vertical:0},a=c.__options.side[t];"top"==a||"bottom"==a?r.vertical=c.__options.distance[a]:r.horizontal=c.__options.distance[a],c.__sideChange(o,a),O.each(["natural","constrained"],function(t,i){if(n=null,c.__instance._trigger({container:s,event:h,helper:l,mode:i,results:p,satisfied:u,side:a,takeTest:function(t){n=t},type:"positionTest"}),1==n||0!=n&&0==u){var o={container:s,distance:r,fits:null,mode:i,outerSize:null,side:a,size:null,target:_[a],whole:null},e=("natural"==i?d.free():d.constrain(l.geo.available[s][a].width-r.horizontal,l.geo.available[s][a].height-r.vertical)).measure();if(o.size=e.size,o.outerSize={height:e.size.height+r.vertical,width:e.size.width+r.horizontal},"natural"==i?l.geo.available[s][a].width>=o.outerSize.width&&l.geo.available[s][a].height>=o.outerSize.height?o.fits=!0:o.fits=!1:o.fits=e.fits,"window"==s&&(o.fits?o.whole="top"==a||"bottom"==a?l.geo.origin.windowOffset.right>=c.__options.minIntersection&&l.geo.window.size.width-l.geo.origin.windowOffset.left>=c.__options.minIntersection:l.geo.origin.windowOffset.bottom>=c.__options.minIntersection&&l.geo.window.size.height-l.geo.origin.windowOffset.top>=c.__options.minIntersection:o.whole=!1),p.push(o),o.whole)u=!0;else if("natural"==o.mode&&(o.fits||o.size.width<=l.geo.available[s][a].width))return!1}})}}),c.__instance._trigger({edit:function(t){p=t},event:h,helper:l,results:p,type:"positionTested"}),p.sort(function(t,i){return t.whole&&!i.whole?-1:!t.whole&&i.whole?1:t.whole&&i.whole?(o=c.__options.side.indexOf(t.side))<(e=c.__options.side.indexOf(i.side))?-1:e<o?1:"natural"==t.mode?-1:1:t.fits&&!i.fits?-1:!t.fits&&i.fits?1:t.fits&&i.fits?(o=c.__options.side.indexOf(t.side))<(e=c.__options.side.indexOf(i.side))?-1:e<o?1:"natural"==t.mode?-1:1:"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1;var o,e}),(i=p[0]).coord={},i.side){case"left":case"right":i.coord.top=Math.floor(i.target-i.size.height/2);break;case"bottom":case"top":i.coord.left=Math.floor(i.target-i.size.width/2)}switch(i.side){case"left":i.coord.left=l.geo.origin.windowOffset.left-i.outerSize.width;break;case"right":i.coord.left=l.geo.origin.windowOffset.right+i.distance.horizontal;break;case"top":i.coord.top=l.geo.origin.windowOffset.top-i.outerSize.height;break;case"bottom":i.coord.top=l.geo.origin.windowOffset.bottom+i.distance.vertical}"window"==i.container?"top"==i.side||"bottom"==i.side?i.coord.left<0?0<=l.geo.origin.windowOffset.right-this.__options.minIntersection?i.coord.left=0:i.coord.left=l.geo.origin.windowOffset.right-this.__options.minIntersection-1:i.coord.left>l.geo.window.size.width-i.size.width&&(l.geo.origin.windowOffset.left+this.__options.minIntersection<=l.geo.window.size.width?i.coord.left=l.geo.window.size.width-i.size.width:i.coord.left=l.geo.origin.windowOffset.left+this.__options.minIntersection+1-i.size.width):i.coord.top<0?0<=l.geo.origin.windowOffset.bottom-this.__options.minIntersection?i.coord.top=0:i.coord.top=l.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:i.coord.top>l.geo.window.size.height-i.size.height&&(l.geo.origin.windowOffset.top+this.__options.minIntersection<=l.geo.window.size.height?i.coord.top=l.geo.window.size.height-i.size.height:i.coord.top=l.geo.origin.windowOffset.top+this.__options.minIntersection+1-i.size.height):(i.coord.left>l.geo.window.size.width-i.size.width&&(i.coord.left=l.geo.window.size.width-i.size.width),i.coord.left<0&&(i.coord.left=0)),c.__sideChange(o,i.side),l.tooltipClone=o[0],l.tooltipParent=c.__instance.option("parent").parent[0],l.mode=i.mode,l.whole=i.whole,l.origin=c.__instance._$origin[0],l.tooltip=c.__instance._$tooltip[0],delete i.container,delete i.fits,delete i.mode,delete i.outerSize,delete i.whole,i.distance=i.distance.horizontal||i.distance.vertical;var e,s,n,r=O.extend(!0,{},i);if(c.__instance._trigger({edit:function(t){i=t},event:h,helper:l,position:r,type:"position"}),c.__options.functionPosition){var a=c.__options.functionPosition.call(c,c.__instance,l,r);a&&(i=a)}d.destroy(),s="top"==i.side||"bottom"==i.side?(e={prop:"left",val:i.target-i.coord.left},i.size.width-this.__options.minIntersection):(e={prop:"top",val:i.target-i.coord.top},i.size.height-this.__options.minIntersection),e.val<this.__options.minIntersection?e.val=this.__options.minIntersection:e.val>s&&(e.val=s),n=l.geo.origin.fixedLineage?l.geo.origin.windowOffset:{left:l.geo.origin.windowOffset.left+l.geo.window.scroll.left,top:l.geo.origin.windowOffset.top+l.geo.window.scroll.top},i.coord={left:n.left+(i.coord.left-l.geo.origin.windowOffset.left),top:n.top+(i.coord.top-l.geo.origin.windowOffset.top)},c.__sideChange(c.__instance._$tooltip,i.side),l.geo.origin.fixedLineage?c.__instance._$tooltip.css("position","fixed"):c.__instance._$tooltip.css("position",""),c.__instance._$tooltip.css({left:i.coord.left,top:i.coord.top,height:i.size.height,width:i.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(e.prop,e.val),c.__instance._$tooltip.appendTo(c.__instance.option("parent")),c.__instance._trigger({type:"repositioned",event:h,position:i})},__sideChange:function(t,i){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+i)},__targetFind:function(t){var i={},o=this.__instance._$origin[0].getClientRects();1<o.length&&(1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),o=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)));if(o.length<2)i.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),i.bottom=i.top,i.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),i.right=i.left;else{var e=o[0];i.top=Math.floor(e.left+(e.right-e.left)/2),e=2<o.length?o[Math.ceil(o.length/2)-1]:o[0],i.right=Math.floor(e.top+(e.bottom-e.top)/2),e=o[o.length-1],i.bottom=Math.floor(e.left+(e.right-e.left)/2),e=2<o.length?o[Math.ceil((o.length+1)/2)-1]:o[o.length-1],i.left=Math.floor(e.top+(e.bottom-e.top)/2)}return i}}}),O}),$(function(){rangePrice("js-range-slider"),showMasks(),AOS.init({startEvent:"scroll"}),preloaderHide(),anchor(),tooltip()}),$.fn.isInViewport=function(){var t=$(this).offset().top,i=t+$(this).outerHeight(),o=$(window).scrollTop(),e=o+$(window).height();return o<i&&t<e},$(window).on("resize scroll",function(){$("#section-1").isInViewport()?$("#section-1").find(".tooltip").addClass("active"):$("#section-1").find(".tooltip").removeClass("active"),$("#section-2").isInViewport()?$("#section-2").find(".tooltip").addClass("active"):$("#section-2").find(".tooltip").removeClass("active")});